proj3@localhost grader]$ sudo ./grader_cp1.py 
test_proxy_simple (__main__.Project3Checkpoint1Test) ... INFO       2016-11-28 14:22:25,038 netsim:162     Starting simulated network...
INFO       2016-11-28 14:22:25,038 netsim:165     Creating network interfaces...
INFO       2016-11-28 14:22:25,044 netsim:173     Enabling traffic shaping...
INFO       2016-11-28 14:22:25,477 netsim:181     Configuring apache...
INFO       2016-11-28 14:22:25,570 netsim:189     Network started.
!!! check thr_info: 0.000000, 0.000000
INFO       2016-11-28 14:22:28,661 netsim:143     Running link events...
INFO       2016-11-28 14:22:28,661 netsim:118     Updating link:  0 link1 900kbit 0ms
INFO       2016-11-28 14:22:28,895 netsim:155     Done running events.

!!!!! accept new clientfd: 7
line 265,read_ret for skt_read_buf: 193
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
new uri: /vod/big_buck_bunny_nolist.f4m
f4m_req is sent!
## clientfd ##: 7
---------- .f4m result ---------
bitrate[0]: 10
bitrate[1]: 100
bitrate[2]: 500
bitrate[3]: 1000
-----------   end   ---------
-!!!!--- T current 7 init by mani: 10.000000 -!!!---

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 10.000000 =====
!!! manifest record of clientfd: 9 does not Exist!
!!! -----line 27, bit_p: 0x69c4800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c4800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c4804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -----line 66, return bit_rate: 10 --- !!!!
### new_bitrate: 10
###### new_bitrate_str: 10
###new chunk uri: /vod/10Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :29222 ----

!!! frag len: 233776 bit !!!

!!! time interval: 0.013635  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :17145.287862 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 11
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 17145.287862 =====
!!! manifest record of clientfd: 11 does not Exist!
!!! -----line 27, bit_p: 0x69c4800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c4800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c4804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004493  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :314907.634097 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 7
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 314907.634097 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c2560 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c2564 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7
line 265,read_ret for skt_read_buf: 0

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001420  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :996394.366197 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 996394.366197 =====
!!! manifest record of clientfd: 9 does not Exist!
!!! -----line 27, bit_p: 0x69c4800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c4800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c4804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.002631  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :537772.709996 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 7
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 537772.709996 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c2560 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c2564 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :0 ----
frag_len is 0, error!
--####### END of receive video frag ######---

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.008746  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :161774.525497 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 8
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 161774.525497 =====
!!! manifest record of clientfd: 8 does not Exist!
!!! -----line 27, bit_p: 0x69c4800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c4800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c4804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004052  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :349180.651530 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 7
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 349180.651530 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c2560 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c2564 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004782  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :295876.202426 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 8
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 295876.202426 =====
!!! manifest record of clientfd: 8 does not Exist!
!!! -----line 27, bit_p: 0x69c4800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c4800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c4804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.002713  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :521518.614080 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 7
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 521518.614080 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c2560 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c2564 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004226  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :334803.596782 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 8
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 334803.596782 =====
!!! manifest record of clientfd: 8 does not Exist!
!!! -----line 27, bit_p: 0x69c4800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x69c4800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x69c4804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004522  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :312888.102609 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0


#################### proxy.log ####################


ERROR
INFO       2016-11-28 14:22:43,994 netsim:192     Stopping simulated network...
INFO       2016-11-28 14:22:43,994 netsim:195     Stopping apache...
INFO       2016-11-28 14:22:44,105 netsim:203     Disabling traffic shaping...
INFO       2016-11-28 14:22:44,390 netsim:210     Destroying network interfaces...
INFO       2016-11-28 14:22:44,561 netsim:216     Network stopped.
test_proxy_adaptation (__main__.Project3Checkpoint1Test) ... INFO       2016-11-28 14:22:44,950 netsim:162     Starting simulated network...
INFO       2016-11-28 14:22:44,950 netsim:165     Creating network interfaces...
INFO       2016-11-28 14:22:44,952 netsim:173     Enabling traffic shaping...
INFO       2016-11-28 14:22:45,435 netsim:181     Configuring apache...
INFO       2016-11-28 14:22:45,513 netsim:189     Network started.
!!! check thr_info: 0.000000, 0.000000
INFO       2016-11-28 14:22:48,616 netsim:143     Running link events...
INFO       2016-11-28 14:22:48,616 netsim:118     Updating link:  0 link1 2000kbit 0ms
INFO       2016-11-28 14:22:48,881 netsim:155     Done running events.

!!!!! accept new clientfd: 8
line 265,read_ret for skt_read_buf: 193
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
new uri: /vod/big_buck_bunny_nolist.f4m
f4m_req is sent!
## clientfd ##: 8
---------- .f4m result ---------
bitrate[0]: 10
bitrate[1]: 100
bitrate[2]: 500
bitrate[3]: 1000
-----------   end   ---------
-!!!!--- T current 8 init by mani: 10.000000 -!!!---

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 10.000000 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x5873800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -----line 66, return bit_rate: 10 --- !!!!
### new_bitrate: 10
###### new_bitrate_str: 10
###new chunk uri: /vod/10Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :29222 ----

!!! frag len: 233776 bit !!!

!!! time interval: 0.005510  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :42427.586207 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 12
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 42427.586207 =====
!!! manifest record of clientfd: 12 does not Exist!
!!! -----line 27, bit_p: 0x5873800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004548  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :311099.384345 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 311099.384345 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x5873800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001043  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1356548.418025 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 12
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1356548.418025 =====
!!! manifest record of clientfd: 12 does not Exist!
!!! -----line 27, bit_p: 0x5873800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001375  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1029003.636364 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 8
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 1029003.636364 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5871560 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5871564 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001204  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1175149.501661 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 12
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1175149.501661 =====
!!! manifest record of clientfd: 12 does not Exist!
!!! -----line 27, bit_p: 0x5873800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001102  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1283920.145191 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 18
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1283920.145191 =====
!!! manifest record of clientfd: 18 does not Exist!
!!! -----line 27, bit_p: 0x5873800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001031  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1372337.536372 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1372337.536372 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x5873800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001090  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1298055.045872 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1298055.045872 =====
!!! manifest record of clientfd: 9 does not Exist!
!!! -----line 27, bit_p: 0x5873800 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873800 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873804 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001155  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1225004.329004 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 8
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 1225004.329004 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5871560 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5871564 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.000968  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1461652.892562 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0
INFO       2016-11-28 14:22:55,611 netsim:143     Running link events...
INFO       2016-11-28 14:22:55,615 netsim:118     Updating link:  0 link1 900kbit 0ms
INFO       2016-11-28 14:22:55,876 netsim:155     Done running events.

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 193
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
new uri: /vod/big_buck_bunny_nolist.f4m
f4m_req is sent!
## clientfd ##: 9
---------- .f4m result ---------
bitrate[0]: 10
bitrate[1]: 100
bitrate[2]: 500
bitrate[3]: 1000
-----------   end   ---------
-!!!!--- T current 9 init by mani: 10.000000 -!!!---

!!!!! accept new clientfd: 15
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 10.000000 =====
!!! manifest record of clientfd: 15 does not Exist!
!!! -----line 27, bit_p: 0x5873d90 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873d90 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873d94 --- !!!!
!!! ----- line 59 --- !!!!
!!! -----line 66, return bit_rate: 10 --- !!!!
### new_bitrate: 10
###### new_bitrate_str: 10
###new chunk uri: /vod/10Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :29222 ----

!!! frag len: 233776 bit !!!

!!! time interval: 0.000840  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :278304.761905 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 14
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 278304.761905 =====
!!! manifest record of clientfd: 14 does not Exist!
!!! -----line 27, bit_p: 0x5873d90 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873d90 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873d94 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.005464  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :258945.827233 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 258945.827233 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x5873d90 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873d90 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873d94 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.005644  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :250687.455705 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 11
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 250687.455705 =====
!!! manifest record of clientfd: 11 does not Exist!
!!! -----line 27, bit_p: 0x5873d90 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873d90 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873d94 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004054  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :349008.386778 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 349008.386778 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x5873d90 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873d90 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873d94 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.003691  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :383332.430236 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 383332.430236 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873bf0 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873bf4 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.000821  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1723361.753959 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1723361.753959 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x5873d90 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873d90 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873d94 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.008104  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :174590.325765 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 174590.325765 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873bf0 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873bf4 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.000824  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1717087.378641 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1717087.378641 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x5873d90 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873d90 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873d94 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004403  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :321344.537815 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 321344.537815 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x5873bf0 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x5873bf4 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.005596  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :252837.741244 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 0


#################### proxy.log ####################


ERROR
INFO       2016-11-28 14:23:10,736 netsim:192     Stopping simulated network...
INFO       2016-11-28 14:23:10,736 netsim:195     Stopping apache...
INFO       2016-11-28 14:23:10,820 netsim:203     Disabling traffic shaping...
INFO       2016-11-28 14:23:11,001 netsim:210     Destroying network interfaces...
INFO       2016-11-28 14:23:11,170 netsim:216     Network stopped.
test_proxy_multiple_clients (__main__.Project3Checkpoint1Test) ... INFO       2016-11-28 14:23:11,582 netsim:162     Starting simulated network...
INFO       2016-11-28 14:23:11,582 netsim:165     Creating network interfaces...
INFO       2016-11-28 14:23:11,587 netsim:173     Enabling traffic shaping...
INFO       2016-11-28 14:23:12,251 netsim:181     Configuring apache...
INFO       2016-11-28 14:23:12,352 netsim:189     Network started.
!!! check thr_info: 0.000000, 0.000000
!!! check thr_info: 0.000000, 0.000000
INFO       2016-11-28 14:23:15,633 netsim:143     Running link events...
INFO       2016-11-28 14:23:15,633 netsim:118     Updating link:  0 link1 1900kbit 0ms
INFO       2016-11-28 14:23:15,903 netsim:155     Done running events.

!!!!! accept new clientfd: 9

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 193
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
new uri: /vod/big_buck_bunny_nolist.f4m
f4m_req is sent!
## clientfd ##: 9
---------- .f4m result ---------
bitrate[0]: 10
bitrate[1]: 100
bitrate[2]: 500
bitrate[3]: 1000
-----------   end   ---------
-!!!!--- T current 9 init by mani: 10.000000 -!!!---
line 265,read_ret for skt_read_buf: 192
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
new uri: /vod/big_buck_bunny_nolist.f4m
f4m_req is sent!
## clientfd ##: 9
---------- .f4m result ---------
bitrate[0]: 10
bitrate[1]: 100
bitrate[2]: 500
bitrate[3]: 1000
-----------   end   ---------
-!!!!--- T current 9 init by mani: 10.000000 -!!!---

!!!!! accept new clientfd: 11
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 10.000000 =====
!!! manifest record of clientfd: 11 does not Exist!
!!! -----line 27, bit_p: 0x6332820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6332820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6332824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -----line 66, return bit_rate: 10 --- !!!!
### new_bitrate: 10
###### new_bitrate_str: 10
###new chunk uri: /vod/10Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :29222 ----

!!! frag len: 233776 bit !!!

!!! time interval: 0.004603  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :50787.747121 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 13
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 50787.747121 =====
!!! manifest record of clientfd: 13 does not Exist!
!!! -----line 27, bit_p: 0x6332820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6332820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6332824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001264  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1119367.088608 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 15
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1119367.088608 =====
!!! manifest record of clientfd: 15 does not Exist!
!!! -----line 27, bit_p: 0x6332820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6332820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6332824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001290  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :1096806.201550 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 11
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 10.000000 =====
!!! manifest record of clientfd: 11 does not Exist!
!!! -----line 27, bit_p: 0x7184820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7184820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7184824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -----line 66, return bit_rate: 10 --- !!!!
### new_bitrate: 10
###### new_bitrate_str: 10
###new chunk uri: /vod/10Seg2-Frag7
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 13
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port

-----####### receive video frag ######---
---- frag_size :29222 ----

!!! frag len: 233776 bit !!!

!!! time interval: 0.195365  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :1196.611471 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 13
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1096806.201550 =====
!!! manifest record of clientfd: 13 does not Exist!
!!! -----line 27, bit_p: 0x6332820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6332820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6332824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1196.611471 =====
!!! manifest record of clientfd: 13 does not Exist!
!!! -----line 27, bit_p: 0x7184820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7184820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7184824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 500 --- !!! 
### new_bitrate: 500
###### new_bitrate_str: 500
###new chunk uri: /vod/500Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004596  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :307850.304613 ---!!!-
--####### END of receive video frag ######---

-----####### receive video frag ######---
---- frag_size :106358 ----

!!! frag len: 850864 bit !!!

!!! time interval: 0.188380  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :4516.742754 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 11
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 4516.742754 =====
!!! manifest record of clientfd: 11 does not Exist!
!!! -----line 27, bit_p: 0x7184820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7184820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7184824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 307850.304613 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6330580 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6330584 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.001079  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :1311288.229842 ---!!!-
--####### END of receive video frag ######---

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.184087  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :7685.931109 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 13
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 13
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 1311288.229842 =====
!!! manifest record of clientfd: 13 does not Exist!
!!! -----line 27, bit_p: 0x7184820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7184820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7184824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 7685.931109 =====
!!! manifest record of clientfd: 13 does not Exist!
!!! -----line 27, bit_p: 0x6332820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6332820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6332824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.013315  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :106262.110402 ---!!!-
--####### END of receive video frag ######---

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.189848  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :7452.699001 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 106262.110402 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x7184820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7184820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7184824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.005069  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :279124.087591 ---!!!-
--####### END of receive video frag ######---
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 7452.699001 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6330580 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6330584 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.555607  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :2546.548190 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 11
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 279124.087591 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7182580 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7182584 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7
line 323 into while
#### before get new_bitrate ####

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.004033  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :350825.688073 ---!!!-
--####### END of receive video frag ######---
thr_cur check: 0.000000
====== thr_cur: 2546.548190 =====
!!! manifest record of clientfd: 11 does not Exist!
!!! -----line 27, bit_p: 0x6332820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6332820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6332824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.555411  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :2547.446846 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 350825.688073 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x7184820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7184820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7184824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 2547.446846 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6330580 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6330584 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.003774  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :374901.960784 ---!!!-
--####### END of receive video frag ######---
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.555833  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :2545.512771 ---!!!-
--####### END of receive video frag ######---

!!!!! accept new clientfd: 14
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 11
line 265,read_ret for skt_read_buf: 188
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 374901.960784 =====
!!! manifest record of clientfd: 14 does not Exist!
!!! -----line 27, bit_p: 0x7184820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7184820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7184824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 2545.512771 =====
!!! manifest record of clientfd: 11 does not Exist!
!!! -----line 27, bit_p: 0x6332820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x6332820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x6332824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.003064  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :461775.456919 ---!!!-
--####### END of receive video frag ######---

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.652930  sec !!!
--!!!-- update T current of :1.0.0.1 ---!!!-
--!!!-- T current :2166.970426 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 10
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 0.000000
====== thr_cur: 461775.456919 =====
!!! manifest record of clientfd: 10 does not Exist!
!!! -----line 27, bit_p: 0x7184820 --- !!!!
 !!! Find manifest by ip! 
!!! ----- after else --- !!!!
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7184820 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7184824 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 0

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.105222  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :13446.617627 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0

!!!!! accept new clientfd: 9
line 265,read_ret for skt_read_buf: 189
line 265,read_ret for skt_read_buf: -1
!!!parse success
line 312 after get_host_and_port
line 323 into while
#### before get new_bitrate ####
thr_cur check: 10.000000
====== thr_cur: 13446.617627 =====
!!! ----- line 40  --- !!!!
!!! ----- bit_p: 0x7182580 --- !!!!
!!! ----- line 43--- !!!!
====== bitrate_n: 4 =====
!!! -----bitrate_list: 0x7182584 --- !!!!
!!! ----- line 59 --- !!!!
!!! -- line 61, return bit_rate: 1000 --- !!! 
### new_bitrate: 1000
###### new_bitrate_str: 1000
###new chunk uri: /vod/1000Seg2-Frag7

-----####### receive video frag ######---
---- frag_size :176860 ----

!!! frag len: 1414880 bit !!!

!!! time interval: 0.002348  sec !!!
--!!!-- update T current of :2.0.0.1 ---!!!-
--!!!-- T current :602589.437819 ---!!!-
--####### END of receive video frag ######---
line 265,read_ret for skt_read_buf: 0
line 265,read_ret for skt_read_buf: 0


#################### proxy1.log ####################




#################### proxy2.log ####################


ERROR
INFO       2016-11-28 14:23:29,746 netsim:192     Stopping simulated network...
INFO       2016-11-28 14:23:29,746 netsim:195     Stopping apache...
INFO       2016-11-28 14:23:29,873 netsim:203     Disabling traffic shaping...
INFO       2016-11-28 14:23:30,113 netsim:210     Destroying network interfaces...
INFO       2016-11-28 14:23:30,298 netsim:216     Network stopped.

======================================================================
ERROR: test_proxy_simple (__main__.Project3Checkpoint1Test)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/proj3/P3_chp1_test/bitrate-project/grader/grader_super.py", line 188, in test_proxy_simple
    self.check_errors()
  File "/home/proj3/P3_chp1_test/bitrate-project/grader/grader_super.py", line 134, in check_gets
    tput = float(sum(tputs))/len(tputs)
ZeroDivisionError: float division by zero

======================================================================
ERROR: test_proxy_adaptation (__main__.Project3Checkpoint1Test)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/proj3/P3_chp1_test/bitrate-project/grader/grader_super.py", line 199, in test_proxy_adaptation
    self.check_errors()
  File "/home/proj3/P3_chp1_test/bitrate-project/grader/grader_super.py", line 134, in check_gets
    tput = float(sum(tputs))/len(tputs)
ZeroDivisionError: float division by zero

======================================================================
ERROR: test_proxy_multiple_clients (__main__.Project3Checkpoint1Test)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/proj3/P3_chp1_test/bitrate-project/grader/grader_super.py", line 218, in test_proxy_multiple_clients
    self.check_errors()
  File "/home/proj3/P3_chp1_test/bitrate-project/grader/grader_super.py", line 134, in check_gets
    tput = float(sum(tputs))/len(tputs)
ZeroDivisionError: float division by zero

----------------------------------------------------------------------
Ran 3 tests in 65.613s

FAILED (errors=3)
{'test_proxy_adaptation': 0, 'test_proxy_multiple_clients': 0, 'test_proxy_simple': 0}
{"scores": {"proxy": 0}}

